<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Sound Level Peak Meter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #222;
            color: white;
        }
        .container {
            margin-top: 20px;
        }
        .slider {
            width: 80%;
        }
    </style>
</head>
<body>
    <h1>SVG Sound Level Peak Meter</h1>
    <div class="container">
        <svg width="100" height="300" viewBox="0 0 100 300" xmlns="http://www.w3.org/2000/svg">
            <!-- Background -->
            <rect x="0" y="0" width="100" height="300" fill="#111"/>

            <!-- Level Bars (initially off) -->
            <rect class="bar" x="20" y="250" width="60" height="20" fill="gray" id="bar1"/>
            <rect class="bar" x="20" y="225" width="60" height="20" fill="gray" id="bar2"/>
            <rect class="bar" x="20" y="200" width="60" height="20" fill="gray" id="bar3"/>
            <rect class="bar" x="20" y="175" width="60" height="20" fill="gray" id="bar4"/>
            <rect class="bar" x="20" y="150" width="60" height="20" fill="gray" id="bar5"/>
            <rect class="bar" x="20" y="125" width="60" height="20" fill="gray" id="bar6"/>
            <rect class="bar" x="20" y="100" width="60" height="20" fill="gray" id="bar7"/>
            <rect class="bar" x="20" y="75" width="60" height="20" fill="gray" id="bar8"/>
            <rect class="bar" x="20" y="50" width="60" height="20" fill="gray" id="bar9"/>
            <rect class="bar" x="20" y="25" width="60" height="20" fill="gray" id="bar10"/>
        </svg>

        <br><br>
        <input type="range" min="0" max="100" value="0" class="slider" id="soundLevel">
        <p>Level: <span id="levelValue">0</span>%</p>
    </div>

    <script>
        function setLevel(value) {
            let bars = document.querySelectorAll('.bar');
            document.getElementById("levelValue").innerText = value;
            
            bars.forEach((bar, index) => {
                let threshold = (index + 1) * 10; // Each bar represents 10% increments
                if (value >= threshold) {
                    if (index < 6) {
                        bar.setAttribute("fill", "lime"); // Green (0-60%)
                    } else if (index < 9) {
                        bar.setAttribute("fill", "yellow"); // Yellow (61-85%)
                    } else {
                        bar.setAttribute("fill", "red"); // Red (86-100%)
                    }
                } else {
                    bar.setAttribute("fill", "gray"); // Turn off if below threshold
                }
            });
        }

        document.getElementById("soundLevel").addEventListener("input", function() {
            setLevel(this.value);
        });

        // Initialize at 0%
        setLevel(0);
    </script>
</body>
</html>